<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIF to MP4 Converter - Convert Animated GIFs to Video | TOOLGENIE</title>
    <meta name="description" content="Free online tool to convert GIF animations to MP4 video files. No installation required. Works in your browser.">
    <meta name="keywords" content="gif to mp4, convert gif to video, gif converter, animated gif to mp4, toolgenie">
    <meta name="author" content="TOOLGENIE">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://toolgenie.in/tools/gif-to-mp4-converter.html">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolgenie.in/tools/gif-to-mp4-converter.html">
    <meta property="og:title" content="GIF to MP4 Converter - Convert Animated GIFs to Video | TOOLGENIE">
    <meta property="og:description" content="Free online tool to convert GIF animations to MP4 video files. No installation required.">
    <meta property="og:image" content="https://toolgenie.in/assets/images/toolgenie-logo.png">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://toolgenie.in/tools/gif-to-mp4-converter.html">
    <meta property="twitter:title" content="GIF to MP4 Converter - Convert Animated GIFs to Video | TOOLGENIE">
    <meta property="twitter:description" content="Free online tool to convert GIF animations to MP4 video files. No installation required.">
    <meta property="twitter:image" content="https://toolgenie.in/assets/images/toolgenie-logo.png">
    
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="../assets/icons/favicon.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ffmpeg.js/4.2.9003/ffmpeg.min.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="brand">
                <img src="../assets/images/toolgenie-logo.png" alt="TOOLGENIE Logo" class="logo">
                <span>TOOLGENIE</span>
            </a>
            <div class="search-container">
                <input type="text" placeholder="Search tools..." class="search-bar">
                <button class="search-btn">Search</button>
            </div>
            <div class="nav-links">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../about.html" class="nav-link">About</a>
                <a href="../contact.html" class="nav-link">Contact</a>
            </div>
            <button class="mobile-menu-btn">‚ò∞</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Ad Space (Top) -->
        <div class="ad-space">
            <!-- Google AdSense Code will go here -->
            <p>Advertisement</p>
        </div>

        <!-- Tool Container -->
        <section class="tool-container">
            <h1>GIF to MP4 Converter</h1>
            <p class="tool-description">Convert your animated GIF files to MP4 video format. Perfect for social media, websites, and presentations.</p>
            
            <!-- Tool Interface -->
            <div class="tool-interface">
                <div class="converter">
                    <div class="upload-section">
                        <div class="upload-area" id="uploadArea">
                            <input type="file" id="fileInput" accept="image/gif" style="display: none;">
                            <div class="upload-icon">üéûÔ∏è</div>
                            <h3>Drag & Drop your GIF here</h3>
                            <p>or</p>
                            <button id="selectFileBtn" class="upload-btn">Select GIF File</button>
                        </div>
                        <div class="file-info" id="fileInfo" style="display: none;">
                            <p><strong>File Name:</strong> <span id="fileName"></span></p>
                            <p><strong>File Size:</strong> <span id="fileSize"></span></p>
                            <p><strong>Dimensions:</strong> <span id="fileDimensions"></span></p>
                            <p><strong>Duration:</strong> <span id="fileDuration"></span></p>
                        </div>
                    </div>
                    
                    <div class="conversion-section" style="display: none;">
                        <div class="preview-container">
                            <img id="gifPreview" src="" alt="GIF Preview">
                        </div>
                        
                        <div class="options-container">
                            <h3>Conversion Options</h3>
                            
                            <div class="option-group">
                                <label for="videoQuality">Video Quality:</label>
                                <select id="videoQuality">
                                    <option value="high">High Quality</option>
                                    <option value="medium" selected>Medium Quality</option>
                                    <option value="low">Low Quality (Smaller File)</option>
                                </select>
                            </div>
                            
                            <div class="option-group">
                                <label for="frameRate">Frame Rate (fps):</label>
                                <select id="frameRate">
                                    <option value="original">Original (from GIF)</option>
                                    <option value="30">30 fps</option>
                                    <option value="24" selected>24 fps</option>
                                    <option value="15">15 fps</option>
                                </select>
                            </div>
                            
                            <div class="option-group">
                                <label for="outputSize">Output Size:</label>
                                <select id="outputSize">
                                    <option value="original">Original Size</option>
                                    <option value="720">720p (HD)</option>
                                    <option value="480">480p (SD)</option>
                                    <option value="360">360p</option>
                                </select>
                            </div>
                            
                            <div class="action-buttons">
                                <button id="convertBtn" class="action-btn">Convert to MP4</button>
                                <button id="newFileBtn" class="action-btn secondary">New File</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-section" style="display: none;">
                        <h3>Conversion Result</h3>
                        <div class="result-container">
                            <video id="videoResult" controls>
                                Your browser does not support the video tag.
                            </video>
                            <div class="result-info">
                                <p><strong>Output Size:</strong> <span id="outputFileSize"></span></p>
                                <p><strong>Dimensions:</strong> <span id="outputDimensions"></span></p>
                                <p><strong>Duration:</strong> <span id="outputDuration"></span></p>
                            </div>
                            <button id="downloadBtn" class="action-btn">Download MP4</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tool Features -->
            <div class="tool-features">
                <h2>Key Features</h2>
                <ul>
                    <li><strong>High Quality Conversion:</strong> Preserve animation quality when converting to MP4</li>
                    <li><strong>Adjustable Settings:</strong> Control frame rate, quality, and output size</li>
                    <li><strong>Fast Processing:</strong> Convert GIFs quickly in your browser</li>
                    <li><strong>Privacy Focused:</strong> All processing happens locally - your files never leave your computer</li>
                    <li><strong>No Watermarks:</strong> Clean output without any branding or watermarks</li>
                </ul>
            </div>
        </section>

        <!-- Ad Space (Middle) -->
        <div class="ad-space">
            <!-- Google AdSense Code will go here -->
            <p>Advertisement</p>
        </div>

        <!-- How To Use Section -->
        <section class="how-to-use">
            <h2>How To Convert GIF to MP4</h2>
            <div class="steps">
                <div class="step">
                    <h3>Step 1: Upload GIF</h3>
                    <p>Select an animated GIF file from your computer or drag and drop it into the upload area.</p>
                </div>
                <div class="step">
                    <h3>Step 2: Adjust Settings</h3>
                    <p>Choose your preferred output quality, frame rate, and dimensions.</p>
                </div>
                <div class="step">
                    <h3>Step 3: Convert</h3>
                    <p>Click the "Convert to MP4" button and wait for the process to complete.</p>
                </div>
                <div class="step">
                    <h3>Step 4: Download</h3>
                    <p>Preview the result and download your MP4 video file.</p>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-item">
                <h3 class="faq-question">What's the maximum GIF size I can convert?</h3>
                <div class="faq-answer">
                    <p>There's no strict limit, but very large GIFs (over 50MB) may cause performance issues in some browsers. For best results, we recommend GIFs under 20MB.</p>
                </div>
            </div>
            <div class="faq-item">
                <h3 class="faq-question">Will the converted MP4 have sound?</h3>
                <div class="faq-answer">
                    <p>No, GIFs don't contain audio, so the resulting MP4 will be silent. You can add audio later using video editing software.</p>
                </div>
            </div>
            <div class="faq-item">
                <h3 class="faq-question">How does the quality compare to the original GIF?</h3>
                <div class="faq-answer">
                    <p>The MP4 will generally look very similar to the original GIF, often with better compression (smaller file size). The "High Quality" setting preserves the most detail.</p>
                </div>
            </div>
            <div class="faq-item">
                <h3 class="faq-question">Can I convert multiple GIFs at once?</h3>
                <div class="faq-answer">
                    <p>Currently, this tool processes one GIF at a time for optimal performance and quality.</p>
                </div>
            </div>
            <div class="faq-item">
                <h3 class="faq-question">Are my GIFs stored on your servers?</h3>
                <div class="faq-answer">
                    <p>No, all conversion happens directly in your browser. Your files never leave your computer, ensuring complete privacy.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-brand">
                <img src="../assets/images/toolgenie-logo.png" alt="TOOLGENIE Logo" class="footer-logo">
                <span>TOOLGENIE</span>
            </div>
            <div class="footer-links">
                <a href="../index.html">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../privacy.html">Privacy Policy</a>
            </div>
            <div class="footer-contact">
                <p>Email: <a href="mailto:krishnasrimukh@gmail.com">krishnasrimukh@gmail.com</a></p>
            </div>
            <div class="footer-copyright">
                <p>&copy; <span id="year"></span> TOOLGENIE. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script>
        // DOM Elements
        const fileInput = document.getElementById('fileInput');
        const selectFileBtn = document.getElementById('selectFileBtn');
        const uploadArea = document.getElementById('uploadArea');
        const fileInfo = document.getElementById('fileInfo');
        const fileName = document.getElementById('fileName');
        const fileSize = document.getElementById('fileSize');
        const fileDimensions = document.getElementById('fileDimensions');
        const fileDuration = document.getElementById('fileDuration');
        const conversionSection = document.querySelector('.conversion-section');
        const gifPreview = document.getElementById('gifPreview');
        const videoQuality = document.getElementById('videoQuality');
        const frameRate = document.getElementById('frameRate');
        const outputSize = document.getElementById('outputSize');
        const convertBtn = document.getElementById('convertBtn');
        const newFileBtn = document.getElementById('newFileBtn');
        const resultSection = document.querySelector('.result-section');
        const videoResult = document.getElementById('videoResult');
        const outputFileSize = document.getElementById('outputFileSize');
        const outputDimensions = document.getElementById('outputDimensions');
        const outputDuration = document.getElementById('outputDuration');
        const downloadBtn = document.getElementById('downloadBtn');
        
        // Variables
        let gifFile = null;
        let gifUrl = null;
        let mp4Blob = null;
        let ffmpeg = null;
        
        // Event Listeners
        selectFileBtn.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', handleFileSelect);
        uploadArea.addEventListener('dragover', handleDragOver);
        uploadArea.addEventListener('drop', handleDrop);
        convertBtn.addEventListener('click', convertGifToMp4);
        newFileBtn.addEventListener('click', resetTool);
        downloadBtn.addEventListener('click', downloadMp4);
        
        // FAQ toggle functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
                question.classList.toggle('active');
            });
        });

        // Set current year in footer
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // Functions
        function handleFileSelect(e) {
            const file = e.target.files[0];
            processGifFile(file);
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.stopPropagation();
            uploadArea.classList.add('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            uploadArea.classList.remove('dragover');
            
            const file = e.dataTransfer.files[0];
            processGifFile(file);
        }

        function processGifFile(file) {
            if (!file.type.match('image/gif')) {
                alert('Please select a GIF file');
                return;
            }
            
            gifFile = file;
            gifUrl = URL.createObjectURL(file);
            
            // Display file info
            fileName.textContent = file.name;
            fileSize.textContent = formatFileSize(file.size);
            
            // Load GIF for preview
            gifPreview.src = gifUrl;
            gifPreview.onload = function() {
                fileDimensions.textContent = `${this.naturalWidth} √ó ${this.naturalHeight} px`;
                
                // Estimate duration by counting frames (approximate)
                getGifDuration(gifUrl).then(duration => {
                    fileDuration.textContent = duration ? `${duration.toFixed(2)} seconds` : 'Unknown';
                });
                
                // Show conversion section
                uploadArea.style.display = 'none';
                fileInfo.style.display = 'block';
                conversionSection.style.display = 'block';
            };
        }

        async function getGifDuration(gifUrl) {
            try {
                const response = await fetch(gifUrl);
                const buffer = await response.arrayBuffer();
                const data = new Uint8Array(buffer);
                
                // Find duration by parsing GIF frames
                let duration = 0;
                let pos = 0;
                
                // Check GIF header
                if (data[0] !== 0x47 || data[1] !== 0x49 || data[2] !== 0x46) {
                    return null; // Not a GIF
                }
                
                // Skip header and logical screen descriptor
                pos = 6 + 7;
                
                // Find all graphic control extensions
                while (pos < data.length) {
                    if (data[pos] === 0x21 && data[pos + 1] === 0xF9) {
                        // Graphic Control Extension found
                        const delay = (data[pos + 4] | (data[pos + 5] << 8)) * 10;
                        duration += delay;
                        pos += 8;
                    } else if (data[pos] === 0x2C) {
                        // Image descriptor found, skip it
                        pos += 10;
                        // Skip image data
                        while (data[pos] !== 0x00 && pos < data.length) {
                            const blockSize = data[pos];
                            pos += blockSize + 1;
                        }
                        pos++;
                    } else {
                        pos++;
                    }
                }
                
                return duration / 1000; // Convert to seconds
            } catch (e) {
                console.error("Error parsing GIF duration:", e);
                return null;
            }
        }

        async function convertGifToMp4() {
            if (!gifFile) {
                alert('Please select a GIF file first');
                return;
            }
            
            // Show loading state
            convertBtn.disabled = true;
            convertBtn.textContent = 'Converting...';
            
            try {
                // Load FFmpeg if not already loaded
                if (!ffmpeg) {
                    ffmpeg = createFFmpeg({ log: true });
                    await ffmpeg.load();
                }
                
                // Write the GIF file to FFmpeg's file system
                const data = await fetch(gifUrl).then(res => res.arrayBuffer());
                ffmpeg.FS('writeFile', 'input.gif', new Uint8Array(data));
                
                // Prepare FFmpeg command based on user settings
                let command = [
                    '-i', 'input.gif',
                    '-movflags', 'faststart',
                    '-pix_fmt', 'yuv420p',
                    '-vf'
                ];
                
                // Add scale filter if needed
                let scaleFilter = '';
                if (outputSize.value !== 'original') {
                    scaleFilter = `scale=-1:${outputSize.value}`;
                }
                
                // Add framerate if needed
                if (frameRate.value !== 'original') {
                    if (scaleFilter) scaleFilter += ',';
                    scaleFilter += `fps=${frameRate.value}`;
                }
                
                if (scaleFilter) {
                    command.push(scaleFilter);
                } else {
                    command.push('fps=30'); // Default to 30fps if no options
                }
                
                // Add quality settings
                let crf = 23; // Default medium quality
                if (videoQuality.value === 'high') crf = 18;
                if (videoQuality.value === 'low') crf = 28;
                
                command.push('-crf', crf.toString(), 'output.mp4');
                
                // Run FFmpeg command
                await ffmpeg.run(...command);
                
                // Read the result
                const output = ffmpeg.FS('readFile', 'output.mp4');
                mp4Blob = new Blob([output.buffer], { type: 'video/mp4' });
                
                // Display result
                const videoUrl = URL.createObjectURL(mp4Blob);
                videoResult.src = videoUrl;
                
                // Get video metadata
                videoResult.onloadedmetadata = function() {
                    outputDimensions.textContent = `${this.videoWidth} √ó ${this.videoHeight} px`;
                    outputDuration.textContent = `${this.duration.toFixed(2)} seconds`;
                    outputFileSize.textContent = formatFileSize(mp4Blob.size);
                    
                    // Show result section
                    conversionSection.style.display = 'none';
                    resultSection.style.display = 'block';
                };
                
            } catch (error) {
                console.error('Conversion error:', error);
                alert('Conversion failed. Please try a different GIF or adjust settings.');
            } finally {
                convertBtn.disabled = false;
                convertBtn.textContent = 'Convert to MP4';
            }
        }

        function downloadMp4() {
            if (!mp4Blob) {
                alert('No MP4 file to download');
                return;
            }
            
            const url = URL.createObjectURL(mp4Blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = gifFile.name.replace('.gif', '') + '.mp4';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function resetTool() {
            // Reset UI
            uploadArea.style.display = 'flex';
            fileInfo.style.display = 'none';
            conversionSection.style.display = 'none';
            resultSection.style.display = 'none';
            fileInput.value = '';
            
            // Clean up URLs
            if (gifUrl) URL.revokeObjectURL(gifUrl);
            if (videoResult.src) URL.revokeObjectURL(videoResult.src);
            
            // Reset variables
            gifFile = null;
            gifUrl = null;
            mp4Blob = null;
            
            // Reset video element
            videoResult.src = '';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
    </script>
</body>
</html>
